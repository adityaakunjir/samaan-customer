(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26294,e=>{"use strict";let s=(0,e.i(66564).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],26294)},62613,e=>{"use strict";let s=()=>localStorage.getItem("authToken"),t=e=>{localStorage.setItem("authToken",e)},r=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user")},a=()=>{let e=localStorage.getItem("user");return e?JSON.parse(e):null},l=e=>{localStorage.setItem("user",JSON.stringify(e))};async function d(e,t={}){let r=s(),a={"Content-Type":"application/json",...t.headers};r&&(a.Authorization=`Bearer ${r}`);let l=`http://localhost:5085/api${e}`;try{let e=await fetch(l,{...t,headers:a});if(!e.ok){let s=await e.text(),t="Request failed";try{let e=JSON.parse(s);t=e.message||e.title||e.error||t}catch{t=s||t}throw Error(t)}return await e.json()}catch(e){throw console.error("API Error:",e),e}}let i={login:async(e,s)=>{let r=await d("/Auth/login",{method:"POST",body:JSON.stringify({email:e,password:s})});return r.success&&r.token&&(t(r.token),l(r.user)),r},register:async e=>{let s=await d("/Auth/register",{method:"POST",body:JSON.stringify(e)});return s.success&&s.token&&(t(s.token),l(s.user)),s},logout:()=>{r()},isAuthenticated:()=>!!s(),getCurrentUser:()=>a(),googleLogin:async e=>{let s=await d("/Auth/google",{method:"POST",body:JSON.stringify({idToken:e})});return s.success&&s.token&&(t(s.token),l(s.user)),s}},o={getAll:()=>d("/Products"),getById:e=>d(`/Products/${e}`),getByMerchant:e=>d(`/Products/merchant/${e}`),search:e=>d(`/Products/search?q=${encodeURIComponent(e)}`),getByCategory:e=>d(`/Products/category/${encodeURIComponent(e)}`)},n={getAll:()=>d("/Merchants"),getById:e=>d(`/Merchants/${e}`),getProducts:e=>d(`/Merchants/${e}/products`),getNearby:e=>d(`/Merchants/nearby?city=${encodeURIComponent(e)}`)},c={getMyOrders:()=>d("/Orders"),getById:e=>d(`/Orders/${e}`),create:e=>d("/Orders",{method:"POST",body:JSON.stringify(e)})};e.s(["api",0,{auth:i,products:o,merchants:n,orders:c},"authAPI",0,i,"getToken",0,s,"getUser",0,a,"merchantsAPI",0,n,"ordersAPI",0,c,"productsAPI",0,o,"removeToken",0,r,"setToken",0,t,"setUser",0,l])},69715,e=>{"use strict";let s=(0,e.i(66564).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>s],69715)},58471,e=>{"use strict";let s=(0,e.i(66564).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>s],58471)},84648,e=>{"use strict";let s=(0,e.i(66564).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>s],84648)},67006,e=>{"use strict";let s=(0,e.i(66564).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>s],67006)},33811,72572,e=>{"use strict";var s=e.i(66564);let t=(0,s.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);e.s(["Home",()=>t],33811);let r=(0,s.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>r],72572)},66688,(e,s,t)=>{s.exports=e.r(13941)},53673,e=>{"use strict";let s=(0,e.i(66564).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["default",()=>s])},36500,e=>{"use strict";var s=e.i(53673);e.s(["ChevronRight",()=>s.default])},76654,e=>{"use strict";let s=(0,e.i(66564).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],76654)},1115,e=>{"use strict";let s=(0,e.i(66564).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>s],1115)},45416,e=>{"use strict";let s=(0,e.i(66564).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>s],45416)},99278,e=>{"use strict";let s=(0,e.i(66564).default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);e.s(["Bell",()=>s],99278)},85643,e=>{"use strict";let s=(0,e.i(66564).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);e.s(["LogOut",()=>s],85643)},63496,e=>{"use strict";var s=e.i(2153),t=e.i(51828),r=e.i(88222),a=e.i(66688),l=e.i(73419),d=e.i(45416),i=e.i(84648),o=e.i(58471),n=e.i(26294),c=e.i(67006),m=e.i(99278),u=e.i(69715),h=e.i(66564);let x=(0,h.default)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var f=e.i(85643),p=e.i(36500);let b=(0,h.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var g=e.i(76654),y=e.i(33811),j=e.i(72572),v=e.i(1115),N=e.i(26211),k=e.i(98558),w=e.i(18530),C=e.i(62613);let S=[{id:"1",type:"home",label:"Home",address:"402, Green Valley Apartments, Sector 12, Pune - 411001",isDefault:!0},{id:"2",type:"office",label:"Office",address:"Tech Park, Tower B, 5th Floor, Hinjewadi, Pune - 411057"}],P=[{id:"1",type:"upi",label:"Google Pay",value:"user@okaxis",isDefault:!0},{id:"2",type:"card",label:"HDFC Card",value:"•••• •••• •••• 4532",isDefault:!1}];function M(){let e=(0,a.useRouter)(),{language:h}=(0,k.useLanguage)(),M=e=>(0,w.getTranslation)(h,e),[A,O]=(0,t.useState)(null),[T,B]=(0,t.useState)(!0),[I,H]=(0,t.useState)(S),[z,D]=(0,t.useState)(!1),[U,$]=(0,t.useState)(!1),[L,E]=(0,t.useState)(null);(0,t.useEffect)(()=>{let s=(0,C.getUser)();s?O(s):e.push("/login?redirect=/profile"),B(!1)},[e]);let R=()=>A?A.FullName||A.fullName||A.name||(A.email||A.Email||"").split("@")[0]||"User":"",[q,J]=(0,t.useState)(""),[F,V]=(0,t.useState)(""),[X,G]=(0,t.useState)(""),[K,Q]=(0,t.useState)("home"),[W,Y]=(0,t.useState)(""),[Z,_]=(0,t.useState)("");(0,t.useEffect)(()=>{A&&(J(R()),V(A.email||""),G(A.phone?.replace("+91 ","")||""))},[A]);let ee=e=>{switch(e){case"home":return(0,s.jsx)(y.Home,{className:"w-4 h-4"});case"office":return(0,s.jsx)(j.Briefcase,{className:"w-4 h-4"});default:return(0,s.jsx)(n.MapPin,{className:"w-4 h-4"})}},es=[{icon:m.Bell,label:M("header.notifications"),href:"/notifications"},{icon:u.Shield,label:M("privacy.title"),href:"/privacy"},{icon:x,label:"Help & Support",href:"/terms"}];return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-background via-muted/20 to-background pb-8",children:[(0,s.jsx)("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-xl border-b border-border/50 shadow-sm",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center gap-4",children:[(0,s.jsx)(r.default,{href:"/",className:"p-2 hover:bg-muted rounded-xl transition-colors",children:(0,s.jsx)(l.ArrowLeft,{className:"w-5 h-5"})}),(0,s.jsx)("h1",{className:"text-lg font-bold",children:"Profile"})]})}),(0,s.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[(0,s.jsx)("div",{className:"bg-card rounded-2xl border border-border/50 shadow-sm p-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:(0,s.jsx)(d.User,{className:"w-8 h-8 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:R()}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-2 mt-1",children:[(0,s.jsx)(i.Mail,{className:"w-4 h-4"}),A?.email||""]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-2 mt-0.5",children:[(0,s.jsx)(o.Phone,{className:"w-4 h-4"}),A?.phone||"Not set"]})]})]}),(0,s.jsx)("button",{onClick:()=>D(!0),className:"p-2 hover:bg-muted rounded-xl transition-colors",children:(0,s.jsx)(b,{className:"w-5 h-5 text-muted-foreground"})})]})}),(0,s.jsxs)("div",{className:"bg-card rounded-2xl border border-border/50 shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-border/50 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.MapPin,{className:"w-5 h-5 text-primary"}),(0,s.jsx)("h3",{className:"font-semibold",children:M("address.savedAddresses")})]}),(0,s.jsxs)("button",{onClick:()=>{E(null),Q("home"),Y(""),_(""),$(!0)},className:"text-primary text-sm font-medium hover:underline flex items-center gap-1",children:[(0,s.jsx)(g.Plus,{className:"w-4 h-4"}),M("address.addNew")]})]}),(0,s.jsx)("div",{className:"divide-y divide-border/50",children:I.map(e=>(0,s.jsxs)("div",{className:"p-4 flex items-start gap-3",children:[(0,s.jsx)("div",{className:`p-2 rounded-lg flex-shrink-0 ${"home"===e.type?"bg-blue-100 text-blue-600":"office"===e.type?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:ee(e.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-semibold text-sm",children:e.label}),e.isDefault&&(0,s.jsx)("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-[10px] font-medium rounded-full",children:"Default"})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:e.address}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,s.jsx)("button",{onClick:()=>{E(e),Q(e.type),Y(e.label),_(e.address),$(!0)},className:"text-xs text-primary font-medium hover:underline",children:"Edit"}),!e.isDefault&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{var s;return s=e.id,void H(e=>e.map(e=>({...e,isDefault:e.id===s})))},className:"text-xs text-muted-foreground font-medium hover:text-foreground",children:"Set as default"}),(0,s.jsx)("button",{onClick:()=>{var s;return s=e.id,void H(e=>e.filter(e=>e.id!==s))},className:"text-xs text-destructive font-medium hover:underline",children:"Delete"})]})]})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-card rounded-2xl border border-border/50 shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-border/50 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.CreditCard,{className:"w-5 h-5 text-primary"}),(0,s.jsx)("h3",{className:"font-semibold",children:"Payment Methods"})]}),(0,s.jsxs)("button",{className:"text-primary text-sm font-medium hover:underline flex items-center gap-1",children:[(0,s.jsx)(g.Plus,{className:"w-4 h-4"}),"Add New"]})]}),(0,s.jsx)("div",{className:"divide-y divide-border/50",children:P.map(e=>(0,s.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,s.jsx)(c.CreditCard,{className:"w-4 h-4 text-muted-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-sm",children:e.label}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.value})]})]}),e.isDefault&&(0,s.jsx)("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-[10px] font-medium rounded-full",children:"Default"})]},e.id))})]}),(0,s.jsx)("div",{className:"bg-card rounded-2xl border border-border/50 shadow-sm overflow-hidden",children:es.map((e,t)=>(0,s.jsxs)(r.default,{href:e.href,className:`flex items-center justify-between p-4 hover:bg-muted/50 transition-colors ${t!==es.length-1?"border-b border-border/50":""}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,s.jsx)(e.icon,{className:"w-4 h-4 text-muted-foreground"})}),(0,s.jsx)("span",{className:"font-medium text-sm",children:e.label})]}),(0,s.jsx)(p.ChevronRight,{className:"w-5 h-5 text-muted-foreground"})]},e.label))}),(0,s.jsxs)(N.Button,{variant:"outline",onClick:()=>{(0,C.removeToken)(),e.push("/login")},className:"w-full h-12 rounded-xl text-destructive hover:bg-destructive/10 hover:text-destructive border-destructive/30 gap-2 bg-transparent",children:[(0,s.jsx)(f.LogOut,{className:"w-5 h-5"}),"Logout"]})]}),z&&(0,s.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>D(!1)}),(0,s.jsxs)("div",{className:"relative w-full sm:max-w-md bg-background rounded-t-3xl sm:rounded-2xl shadow-2xl max-h-[85vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"sticky top-0 bg-background border-b border-border/50 px-4 py-4 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:"Edit Profile"}),(0,s.jsx)("button",{onClick:()=>D(!1),className:"p-2 hover:bg-muted rounded-full transition-colors",children:(0,s.jsx)(v.X,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),(0,s.jsx)("input",{type:"text",value:q,onChange:e=>J(e.target.value),className:"w-full h-12 px-4 rounded-xl border-2 border-border bg-muted/30 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:F,onChange:e=>V(e.target.value),className:"w-full h-12 px-4 rounded-xl border-2 border-border bg-muted/30 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),(0,s.jsxs)("div",{className:"flex h-12 rounded-xl border-2 border-border focus-within:border-primary focus-within:ring-4 focus-within:ring-primary/10 overflow-hidden bg-muted/30",children:[(0,s.jsx)("div",{className:"flex items-center px-4 bg-muted/50 border-r border-border",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-muted-foreground",children:"+91"})}),(0,s.jsx)("input",{type:"tel",value:X,onChange:e=>G(e.target.value.replace(/\D/g,"").slice(0,10)),className:"flex-1 px-4 bg-transparent focus:outline-none"})]})]}),(0,s.jsx)(N.Button,{onClick:()=>{D(!1)},className:"w-full h-12 rounded-xl font-semibold",children:"Save Changes"})]})]})]}),U&&(0,s.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>{$(!1),E(null)}}),(0,s.jsxs)("div",{className:"relative w-full sm:max-w-md bg-background rounded-t-3xl sm:rounded-2xl shadow-2xl max-h-[85vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"sticky top-0 bg-background border-b border-border/50 px-4 py-4 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:L?"Edit Address":M("address.addNew")}),(0,s.jsx)("button",{onClick:()=>{$(!1),E(null)},className:"p-2 hover:bg-muted rounded-full transition-colors",children:(0,s.jsx)(v.X,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Address Type"}),(0,s.jsx)("div",{className:"flex gap-2",children:["home","office","other"].map(e=>(0,s.jsxs)("button",{onClick:()=>Q(e),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl border-2 transition-all ${K===e?"border-primary bg-primary/5 text-primary":"border-border hover:border-primary/50"}`,children:[ee(e),(0,s.jsx)("span",{className:"text-sm font-medium capitalize",children:e})]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Label (Optional)"}),(0,s.jsx)("input",{type:"text",value:W,onChange:e=>Y(e.target.value),placeholder:"e.g., Mom's House",className:"w-full h-12 px-4 rounded-xl border-2 border-border bg-muted/30 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Full Address"}),(0,s.jsx)("textarea",{value:Z,onChange:e=>_(e.target.value),placeholder:"Enter complete address with landmark",rows:3,className:"w-full px-4 py-3 rounded-xl border-2 border-border bg-muted/30 focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 resize-none"})]}),(0,s.jsx)(N.Button,{onClick:()=>{if(L)H(e=>e.map(e=>e.id===L.id?{...e,type:K,label:W,address:Z}:e));else{let e={id:Date.now().toString(),type:K,label:W||("home"===K?"Home":"office"===K?"Office":"Other"),address:Z};H(s=>[...s,e])}$(!1),E(null),Q("home"),Y(""),_("")},disabled:!Z.trim(),className:"w-full h-12 rounded-xl font-semibold",children:L?"Save Changes":"Add Address"})]})]})]})]})}e.s(["default",()=>M],63496)}]);