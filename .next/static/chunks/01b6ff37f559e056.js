(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58471,e=>{"use strict";let s=(0,e.i(66564).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>s],58471)},73477,e=>{"use strict";let s=(0,e.i(66564).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],73477)},62613,e=>{"use strict";let s=()=>localStorage.getItem("authToken"),t=e=>{localStorage.setItem("authToken",e)},r=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user")},a=()=>{let e=localStorage.getItem("user");return e?JSON.parse(e):null},l=e=>{localStorage.setItem("user",JSON.stringify(e))};async function o(e,t={}){let r=s(),a={"Content-Type":"application/json",...t.headers};r&&(a.Authorization=`Bearer ${r}`);let l=`http://localhost:5085/api${e}`;try{let e=await fetch(l,{...t,headers:a});if(!e.ok){let s=await e.text(),t="Request failed";try{let e=JSON.parse(s);t=e.message||e.title||e.error||t}catch{t=s||t}throw Error(t)}return await e.json()}catch(e){throw console.error("API Error:",e),e}}let n={login:async(e,s)=>{let r=await o("/Auth/login",{method:"POST",body:JSON.stringify({email:e,password:s})});return r.success&&r.token&&(t(r.token),l(r.user)),r},register:async e=>{let s=await o("/Auth/register",{method:"POST",body:JSON.stringify(e)});return s.success&&s.token&&(t(s.token),l(s.user)),s},logout:()=>{r()},isAuthenticated:()=>!!s(),getCurrentUser:()=>a(),googleLogin:async e=>{let s=await o("/Auth/google",{method:"POST",body:JSON.stringify({idToken:e})});return s.success&&s.token&&(t(s.token),l(s.user)),s}},c={getAll:()=>o("/Products"),getById:e=>o(`/Products/${e}`),getByMerchant:e=>o(`/Products/merchant/${e}`),search:e=>o(`/Products/search?q=${encodeURIComponent(e)}`),getByCategory:e=>o(`/Products/category/${encodeURIComponent(e)}`)},i={getAll:()=>o("/Merchants"),getById:e=>o(`/Merchants/${e}`),getProducts:e=>o(`/Merchants/${e}/products`),getNearby:e=>o(`/Merchants/nearby?city=${encodeURIComponent(e)}`)},d={getMyOrders:()=>o("/Orders"),getById:e=>o(`/Orders/${e}`),create:e=>o("/Orders",{method:"POST",body:JSON.stringify(e)})};e.s(["api",0,{auth:n,products:c,merchants:i,orders:d},"authAPI",0,n,"getToken",0,s,"getUser",0,a,"merchantsAPI",0,i,"ordersAPI",0,d,"productsAPI",0,c,"removeToken",0,r,"setToken",0,t,"setUser",0,l])},43127,e=>{"use strict";var s=e.i(2153),t=e.i(51828),r=e.i(88222),a=e.i(90316),l=e.i(73419),o=e.i(5827),n=e.i(87142),c=e.i(26294),i=e.i(10967),d=e.i(58471),m=e.i(31302),h=e.i(52484),u=e.i(73477),x=e.i(26211),g=e.i(7323),p=e.i(29672),f=e.i(62613);function j({params:e}){let{id:j}=(0,t.use)(e),[N,b]=(0,t.useState)(null),[y,v]=(0,t.useState)([]),[k,w]=(0,t.useState)(!0),[S,P]=(0,t.useState)(null),[A,I]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{(async()=>{w(!0),P(null);try{let[e,s]=await Promise.all([f.merchantsAPI.getById(j),f.merchantsAPI.getProducts(j)]);b(e),v(s||[])}catch(e){console.error("Error fetching shop data:",e),P("Failed to load shop details")}finally{w(!1)}})()},[j]),k)?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-background via-muted/20 to-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(u.Loader2,{className:"w-8 h-8 animate-spin text-primary"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading shop..."})]})}):S||!N?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-background via-muted/20 to-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-destructive mb-4",children:S||"Shop not found"}),(0,s.jsx)(r.default,{href:"/shops",children:(0,s.jsx)(x.Button,{variant:"outline",children:"Back to Shops"})})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-background via-muted/20 to-background pb-32",children:[(0,s.jsx)("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-xl border-b border-border/50 shadow-sm",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(r.default,{href:"/shops",className:"p-2 hover:bg-muted rounded-xl transition-colors",children:(0,s.jsx)(l.ArrowLeft,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-lg font-bold",children:N.businessName}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[y.length," products"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>I(!A),className:"p-2 hover:bg-muted rounded-xl transition-colors",children:(0,s.jsx)(h.Heart,{className:`w-5 h-5 ${A?"fill-red-500 text-red-500":""}`})}),(0,s.jsx)("button",{className:"p-2 hover:bg-muted rounded-xl transition-colors",children:(0,s.jsx)(m.Share2,{className:"w-5 h-5"})})]})]})}),(0,s.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-card rounded-2xl border border-border/50 shadow-sm p-4",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-muted/50 rounded-xl overflow-hidden flex-shrink-0",children:(0,s.jsx)(a.default,{src:N.logoUrl||"/placeholder-logo.png",alt:N.businessName,width:80,height:80,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h2",{className:"font-bold text-lg",children:N.businessName}),N.isVerified&&(0,s.jsx)(i.BadgeCheck,{className:"w-5 h-5 text-blue-500"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground flex-wrap",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.Star,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),N.rating||4," (50)"]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(c.MapPin,{className:"w-4 h-4"}),"1 km"]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(n.Clock,{className:"w-4 h-4"}),"15 mins"]})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-border/50 flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Address"}),(0,s.jsx)("p",{className:"text-sm",children:N.address||N.city||"Pune, Maharashtra"})]}),N.phone&&(0,s.jsx)("a",{href:`tel:${N.phone}`,children:(0,s.jsxs)(x.Button,{variant:"outline",size:"sm",className:"rounded-full gap-2 bg-transparent",children:[(0,s.jsx)(d.Phone,{className:"w-4 h-4"}),"Call"]})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Products"}),0===y.length?(0,s.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:(0,s.jsx)("p",{children:"No products available yet"})}):(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:y.map((e,t)=>(0,s.jsx)("div",{style:{animationDelay:`${50*t}ms`},className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:(0,s.jsx)(g.ProductCard,{product:{id:e.id,name:e.name,quantity:e.quantity||"1 unit",price:e.price,image:e.imageUrl||"/generic-food-product.png",freshnessScore:e.freshnessScore||95,stockedTime:"20m ago",deliveryEta:"15 mins"},variant:"compact"})},e.id))})]})]}),(0,s.jsx)(p.CartFooter,{})]})}e.s(["default",()=>j])}]);