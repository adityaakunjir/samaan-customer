module.exports=[4375,(a,b,c)=>{"use strict";b.exports=a.r(25381).vendored.contexts.AppRouterContext},13240,(a,b,c)=>{"use strict";b.exports=a.r(25381).vendored["react-ssr"].ReactServerDOMTurbopackClient},8574,(a,b,c)=>{"use strict";b.exports=a.r(25381).vendored["react-ssr"].ReactDOM},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},59321,(a,b,c)=>{"use strict";b.exports=a.r(25381).vendored.contexts.HooksClientContext},78079,(a,b,c)=>{"use strict";b.exports=a.r(25381).vendored.contexts.ServerInsertedHtml},97794,a=>{"use strict";let b=(0,a.i(55625).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],97794)},58039,a=>{"use strict";let b=(0,a.i(55625).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],58039)},29566,a=>{"use strict";let b=(0,a.i(55625).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],29566)},26115,a=>{"use strict";let b=(0,a.i(55625).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],26115)},56783,a=>{"use strict";let b=(0,a.i(55625).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],56783)},65069,a=>{"use strict";let b=(0,a.i(55625).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["Truck",()=>b],65069)},78717,a=>{"use strict";let b=(0,a.i(55625).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],78717)},79648,a=>{"use strict";let b=()=>null,c=a=>{},d=()=>{},e=()=>null,f=a=>{};async function g(a,c={}){let d=b(),e={"Content-Type":"application/json",...c.headers};d&&(e.Authorization=`Bearer ${d}`);let f=`http://localhost:5085/api${a}`;try{let a=await fetch(f,{...c,headers:e});if(!a.ok){let b=await a.text(),c="Request failed";try{let a=JSON.parse(b);c=a.message||a.title||a.error||c}catch{c=b||c}throw Error(c)}return await a.json()}catch(a){throw console.error("API Error:",a),a}}let h={login:async(a,b)=>{let d=await g("/Auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})});return d.success&&d.token&&(c(d.token),f(d.user)),d},register:async a=>{let b=await g("/Auth/register",{method:"POST",body:JSON.stringify(a)});return b.success&&b.token&&(c(b.token),f(b.user)),b},logout:()=>{d()},isAuthenticated:()=>!!b(),getCurrentUser:()=>e(),googleLogin:async a=>{let b=await g("/Auth/google",{method:"POST",body:JSON.stringify({idToken:a})});return b.success&&b.token&&(c(b.token),f(b.user)),b}},i={getAll:()=>g("/Products"),getById:a=>g(`/Products/${a}`),getByMerchant:a=>g(`/Products/merchant/${a}`),search:a=>g(`/Products/search?q=${encodeURIComponent(a)}`),getByCategory:a=>g(`/Products/category/${encodeURIComponent(a)}`)},j={getAll:()=>g("/Merchants"),getById:a=>g(`/Merchants/${a}`),getProducts:a=>g(`/Merchants/${a}/products`),getNearby:a=>g(`/Merchants/nearby?city=${encodeURIComponent(a)}`)},k={getMyOrders:()=>g("/Orders"),getById:a=>g(`/Orders/${a}`),create:a=>g("/Orders",{method:"POST",body:JSON.stringify(a)})};a.s(["api",0,{auth:h,products:i,merchants:j,orders:k},"authAPI",0,h,"getToken",0,b,"getUser",0,e,"merchantsAPI",0,j,"ordersAPI",0,k,"productsAPI",0,i,"removeToken",0,d,"setToken",0,c,"setUser",0,f])},60126,a=>{"use strict";let b=(0,a.i(55625).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],60126)},52440,a=>{"use strict";var b=a.i(31020),c=a.i(76489),d=a.i(84171),e=a.i(67720),f=a.i(34764),g=a.i(29566),h=a.i(58039),i=a.i(56783),j=a.i(97794);let k=(0,a.i(55625).default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var l=a.i(78717),m=a.i(26115),n=a.i(60126),o=a.i(65069),p=a.i(66064),q=a.i(79648);function r({params:a}){let{id:r}=(0,c.use)(a),s=(0,f.useRouter)(),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(null);(0,c.useEffect)(()=>{q.authAPI.isAuthenticated()?z():s.push("/login?redirect=/orders")},[r,s]);let z=async()=>{try{w(!0),y(null);let a=await q.api.orders.getById(r);u(a)}catch(a){console.error("Failed to load order:",a),y(a.message||"Failed to load order details")}finally{w(!1)}},A=a=>a?new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null;if(v)return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-background via-muted/20 to-background flex items-center justify-center",children:(0,b.jsx)(l.Loader2,{className:"w-8 h-8 animate-spin text-primary"})});if(x||!t)return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-background via-muted/20 to-background",children:[(0,b.jsx)("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-xl border-b border-border/50 shadow-sm",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/orders",className:"p-2 hover:bg-muted rounded-xl transition-colors",children:(0,b.jsx)(g.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsx)("h1",{className:"text-lg font-bold",children:"Order Details"})]})}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,b.jsx)("p",{className:"text-red-500 mb-4",children:x||"Order not found"}),(0,b.jsx)(p.Button,{onClick:()=>s.push("/orders"),children:"Back to Orders"})]})]});let B=(()=>{if(!t)return[];let a=[{status:"Order Placed",time:A(t.createdAt),completed:!0}];return t.confirmedAt&&a.push({status:"Confirmed",time:A(t.confirmedAt),completed:!0}),t.preparingAt&&a.push({status:"Preparing",time:A(t.preparingAt),completed:!0}),t.readyAt&&a.push({status:"Out for Delivery",time:A(t.readyAt),completed:!0}),t.deliveredAt&&a.push({status:"Delivered",time:A(t.deliveredAt),completed:!0}),a})();return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-background via-muted/20 to-background",children:[(0,b.jsx)("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-xl border-b border-border/50 shadow-sm",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/orders",className:"p-2 hover:bg-muted rounded-xl transition-colors",children:(0,b.jsx)(g.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-lg font-bold",children:"Order Details"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:t.orderNumber||t.id})]})]})}),(0,b.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[(0,b.jsxs)("div",{className:`${(a=>{switch(a.toLowerCase()){case"delivered":return"bg-green-50 border-green-200";case"ready":case"out-for-delivery":return"bg-blue-50 border-blue-200";case"preparing":case"packed":return"bg-yellow-50 border-yellow-200";default:return"bg-muted border-border"}})(t.status)} border rounded-2xl p-4 sm:p-6`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-current/10 rounded-xl",children:(a=>{switch(a.toLowerCase()){case"delivered":return(0,b.jsx)(h.CheckCircle2,{className:"w-6 h-6 text-green-600"});case"ready":case"out-for-delivery":return(0,b.jsx)(o.Truck,{className:"w-6 h-6 text-blue-600"});case"preparing":case"packed":return(0,b.jsx)(m.Clock,{className:"w-6 h-6 text-yellow-600"});default:return(0,b.jsx)(n.Package,{className:"w-6 h-6 text-muted-foreground"})}})(t.status)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"font-bold",children:(a=>{switch(a.toLowerCase()){case"delivered":return"Order Delivered";case"ready":return"Ready for Delivery";case"out-for-delivery":return"Out for Delivery";case"packed":return"Order Packed";case"preparing":return"Preparing Order";case"confirmed":return"Order Confirmed";case"new":return"Order Placed";default:return a}})(t.status)}),(0,b.jsx)("p",{className:"text-sm opacity-80",children:"delivered"===t.status.toLowerCase()&&t.deliveredAt?`Delivered at ${A(t.deliveredAt)}`:`Order placed at ${A(t.createdAt)}`})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:B.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${a.completed?"bg-green-500":"bg-gray-300"}`}),(0,b.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[(0,b.jsx)("span",{className:`text-sm ${a.completed?"text-foreground":"text-gray-500"}`,children:a.status}),(0,b.jsx)("span",{className:"text-xs opacity-70",children:a.time})]})]},c))})]}),(0,b.jsxs)("div",{className:"bg-card rounded-2xl border border-border/50 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 border-b border-border/50",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Order Items"})}),(0,b.jsx)("div",{className:"divide-y divide-border/50",children:t.items.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-muted/30 rounded-xl overflow-hidden flex-shrink-0",children:(0,b.jsx)(e.default,{src:"/placeholder.svg",alt:a.productName,width:64,height:64,className:"w-full h-full object-contain"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h4",{className:"font-medium text-sm truncate",children:a.productName}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.quantity," x ₹",a.unitPrice]})]}),(0,b.jsxs)("p",{className:"font-semibold text-sm",children:["₹",a.totalPrice]})]},c))})]}),(0,b.jsxs)("div",{className:"bg-card rounded-2xl border border-border/50 shadow-sm p-4",children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Bill Details"}),(0,b.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Item Total"}),(0,b.jsxs)("span",{children:["₹",t.itemsTotal]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Delivery Fee"}),(0,b.jsxs)("span",{children:["₹",t.deliveryFee]})]}),t.discount>0&&(0,b.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,b.jsx)("span",{children:"Discount"}),(0,b.jsxs)("span",{children:["-₹",t.discount]})]}),(0,b.jsxs)("div",{className:"border-t border-border/50 pt-3 flex justify-between font-bold",children:[(0,b.jsx)("span",{children:"Total Paid"}),(0,b.jsxs)("span",{children:["₹",t.grandTotal]})]})]})]}),t.deliveryAddress&&(0,b.jsxs)("div",{className:"bg-card rounded-2xl border border-border/50 shadow-sm p-4",children:[(0,b.jsx)("h3",{className:"font-semibold mb-3",children:"Delivery Address"}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,b.jsx)(i.MapPin,{className:"w-4 h-4 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:t.deliveryAddress}),t.deliveryInstructions&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Note: ",t.deliveryInstructions]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)(p.Button,{variant:"outline",className:"flex-1 rounded-xl gap-2 bg-transparent",children:[(0,b.jsx)(j.Phone,{className:"w-4 h-4"}),"Call Support"]}),(0,b.jsxs)(p.Button,{variant:"outline",className:"flex-1 rounded-xl gap-2 bg-transparent",children:[(0,b.jsx)(k,{className:"w-4 h-4"}),"Chat with Us"]})]})]})]})}a.s(["default",()=>r],52440)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f3f5643d._.js.map