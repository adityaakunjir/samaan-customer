module.exports=[59321,(a,b,c)=>{"use strict";b.exports=a.r(25381).vendored.contexts.HooksClientContext},78079,(a,b,c)=>{"use strict";b.exports=a.r(25381).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},4375,(a,b,c)=>{"use strict";b.exports=a.r(25381).vendored.contexts.AppRouterContext},13240,(a,b,c)=>{"use strict";b.exports=a.r(25381).vendored["react-ssr"].ReactServerDOMTurbopackClient},8574,(a,b,c)=>{"use strict";b.exports=a.r(25381).vendored["react-ssr"].ReactDOM},58039,a=>{"use strict";let b=(0,a.i(55625).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],58039)},30544,a=>{"use strict";let b=(0,a.i(55625).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["default",()=>b])},21442,a=>{"use strict";var b=a.i(30544);a.s(["ChevronRight",()=>b.default])},62949,a=>{"use strict";let b=(0,a.i(55625).default)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);a.s(["ShoppingBag",()=>b],62949)},29566,a=>{"use strict";let b=(0,a.i(55625).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],29566)},26115,a=>{"use strict";let b=(0,a.i(55625).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],26115)},65069,a=>{"use strict";let b=(0,a.i(55625).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["Truck",()=>b],65069)},78717,a=>{"use strict";let b=(0,a.i(55625).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],78717)},79648,a=>{"use strict";let b=()=>null,c=a=>{},d=()=>{},e=()=>null,f=a=>{};async function g(a,c={}){let d=b(),e={"Content-Type":"application/json",...c.headers};d&&(e.Authorization=`Bearer ${d}`);let f=`http://localhost:5085/api${a}`;try{let a=await fetch(f,{...c,headers:e});if(!a.ok){let b=await a.text(),c="Request failed";try{let a=JSON.parse(b);c=a.message||a.title||a.error||c}catch{c=b||c}throw Error(c)}return await a.json()}catch(a){throw console.error("API Error:",a),a}}let h={login:async(a,b)=>{let d=await g("/Auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})});return d.success&&d.token&&(c(d.token),f(d.user)),d},register:async a=>{let b=await g("/Auth/register",{method:"POST",body:JSON.stringify(a)});return b.success&&b.token&&(c(b.token),f(b.user)),b},logout:()=>{d()},isAuthenticated:()=>!!b(),getCurrentUser:()=>e(),googleLogin:async a=>{let b=await g("/Auth/google",{method:"POST",body:JSON.stringify({idToken:a})});return b.success&&b.token&&(c(b.token),f(b.user)),b}},i={getAll:()=>g("/Products"),getById:a=>g(`/Products/${a}`),getByMerchant:a=>g(`/Products/merchant/${a}`),search:a=>g(`/Products/search?q=${encodeURIComponent(a)}`),getByCategory:a=>g(`/Products/category/${encodeURIComponent(a)}`)},j={getAll:()=>g("/Merchants"),getById:a=>g(`/Merchants/${a}`),getProducts:a=>g(`/Merchants/${a}/products`),getNearby:a=>g(`/Merchants/nearby?city=${encodeURIComponent(a)}`)},k={getMyOrders:()=>g("/Orders"),getById:a=>g(`/Orders/${a}`),create:a=>g("/Orders",{method:"POST",body:JSON.stringify(a)})};a.s(["api",0,{auth:h,products:i,merchants:j,orders:k},"authAPI",0,h,"getToken",0,b,"getUser",0,e,"merchantsAPI",0,j,"ordersAPI",0,k,"productsAPI",0,i,"removeToken",0,d,"setToken",0,c,"setUser",0,f])},60126,a=>{"use strict";let b=(0,a.i(55625).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],60126)},63519,a=>{"use strict";var b=a.i(31020),c=a.i(76489),d=a.i(84171),e=a.i(67720),f=a.i(34764),g=a.i(29566),h=a.i(60126),i=a.i(26115),j=a.i(58039),k=a.i(65069),l=a.i(21442),m=a.i(55625);let n=(0,m.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var o=a.i(62949),p=a.i(78717);let q=(0,m.default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var r=a.i(66064),s=a.i(95413),t=a.i(63264),u=a.i(1204),v=a.i(79648);function w(){let a=(0,f.useRouter)(),{language:m}=(0,s.useLanguage)(),w=a=>(0,t.getTranslation)(m,a),{addItem:x}=(0,u.useCart)(),[y,z]=(0,c.useState)("all"),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)(!1);(0,c.useEffect)(()=>{v.authAPI.isAuthenticated()?I():a.push("/login?redirect=/orders")},[a]),(0,c.useEffect)(()=>{let a=setInterval(()=>{v.authAPI.isAuthenticated()&&I(!0)},1e4);return()=>clearInterval(a)},[]);let I=async(a=!1)=>{a?H(!0):F(!0);try{let a=await v.api.orders.getMyOrders(),b=(Array.isArray(a)?a:[]).map(a=>({id:a.id,orderNumber:a.orderNumber,date:new Date(a.createdAt).toLocaleString(),status:(a.status||"new").toLowerCase(),total:a.grandTotal||a.itemsTotal||0,grandTotal:a.grandTotal,items:(a.items||[]).map(a=>({id:a.productId||a.id,name:a.productName||a.name,quantity:`${a.quantity}`,price:a.unitPrice||a.price,image:"/placeholder.svg"})),deliveryTime:a.estimatedDelivery||"15-20 mins",estimatedDelivery:a.estimatedDelivery,createdAt:a.createdAt,merchant:a.merchant}));D(b)}catch(a){console.error("Failed to load orders:",a)}finally{F(!1),H(!1)}},J=(()=>{switch(y){case"active":return C.filter(a=>"new"===a.status||"confirmed"===a.status||"packed"===a.status||"ready"===a.status||"in-transit"===a.status||"preparing"===a.status);case"completed":return C.filter(a=>"delivered"===a.status);default:return C}})();if(E)return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-background via-muted/20 to-background flex items-center justify-center",children:(0,b.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-primary"})});let K=C.filter(a=>"in-transit"===a.status||"preparing"===a.status).length,L=C.filter(a=>"delivered"===a.status).length;return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-background via-muted/20 to-background",children:[(0,b.jsx)("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-xl border-b border-border/50 shadow-sm",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/",className:"p-2 hover:bg-muted rounded-xl transition-colors",children:(0,b.jsx)(g.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsx)("h1",{className:"text-lg font-bold",children:w("orders.title")})]}),(0,b.jsx)("button",{onClick:()=>I(),disabled:G,className:"p-2 hover:bg-muted rounded-xl transition-colors",children:(0,b.jsx)(q,{className:`w-5 h-5 ${G?"animate-spin":""}`})})]})}),C.length>0&&(0,b.jsx)("div",{className:"sticky top-[57px] z-40 bg-background/80 backdrop-blur-xl border-b border-border/50",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 flex gap-4 sm:gap-6 overflow-x-auto scrollbar-hide",children:[{id:"all",label:w("orders.all"),count:C.length},{id:"active",label:w("orders.active"),count:K},{id:"completed",label:w("orders.completed"),count:L}].map(a=>(0,b.jsxs)("button",{onClick:()=>z(a.id),className:`py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ${y===a.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[a.label,(0,b.jsx)("span",{className:`px-2 py-0.5 text-xs rounded-full ${y===a.id?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:a.count})]},a.id))})}),(0,b.jsx)("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-4",children:0===C.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/10 to-orange-500/10 rounded-full flex items-center justify-center mb-6",children:(0,b.jsx)(o.ShoppingBag,{className:"w-12 h-12 text-primary"})}),(0,b.jsx)("h2",{className:"text-xl font-bold mb-2",children:w("orders.noOrders")}),(0,b.jsx)("p",{className:"text-muted-foreground text-center mb-6 max-w-sm",children:"You haven't placed any orders yet. Start shopping to see your orders here!"}),(0,b.jsx)(d.default,{href:"/",children:(0,b.jsx)(r.Button,{className:"bg-primary hover:bg-primary/90 rounded-full px-8",children:w("cart.startShopping")})})]}):0===J.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mb-6",children:(0,b.jsx)(h.Package,{className:"w-12 h-12 text-muted-foreground"})}),(0,b.jsx)("h2",{className:"text-xl font-bold mb-2",children:"active"===y?w("orders.noActiveOrders"):"completed"===y?w("orders.noCompletedOrders"):w("orders.noOrders")}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:w("orders.startShopping")}),(0,b.jsx)(d.default,{href:"/",children:(0,b.jsx)(r.Button,{className:"bg-primary hover:bg-primary/90 rounded-full px-8",children:w("cart.startShopping")})})]}):J.map(c=>(0,b.jsxs)("div",{className:"bg-card rounded-2xl border border-border/50 shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-border/50 flex items-center justify-between flex-wrap gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:c.date}),(0,b.jsx)("p",{className:"font-semibold text-sm",children:c.orderNumber||`#${c.id.slice(0,8).toUpperCase()}`}),c.merchant&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:c.merchant.name})]}),(0,b.jsxs)("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full ${(a=>{switch(a){case"delivered":return"bg-green-50 text-green-700";case"in-transit":return"bg-blue-50 text-blue-700";case"preparing":return"bg-yellow-50 text-yellow-700";default:return"bg-muted text-muted-foreground"}})(c.status)}`,children:[(a=>{switch(a){case"delivered":return(0,b.jsx)(j.CheckCircle2,{className:"w-4 h-4 text-green-600"});case"in-transit":return(0,b.jsx)(k.Truck,{className:"w-4 h-4 text-blue-600"});case"preparing":return(0,b.jsx)(i.Clock,{className:"w-4 h-4 text-yellow-600"});default:return(0,b.jsx)(h.Package,{className:"w-4 h-4 text-muted-foreground"})}})(c.status),(0,b.jsx)("span",{className:"text-xs font-medium",children:(a=>{switch(a){case"delivered":return w("orders.delivered");case"ready":return"Ready for Delivery";case"packed":return"Packed";case"confirmed":return"Confirmed";case"new":return"Order Placed";case"in-transit":return w("orders.onTheWay");case"preparing":return w("orders.preparing");default:return a}})(c.status)})]})]}),(0,b.jsxs)("div",{className:"p-4 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex -space-x-3",children:c.items.slice(0,3).map((a,c)=>(0,b.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-muted/50 rounded-xl border-2 border-background overflow-hidden",children:(0,b.jsx)(e.default,{src:a.image||"/placeholder.svg",alt:a.name,width:48,height:48,className:"w-full h-full object-contain"})},c))}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:c.items.map(a=>a.name).join(", ")}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[c.items.length," ",w("cart.items")," |"," ","delivered"===c.status?`${w("orders.deliveredIn")} ${c.deliveryTime||"15-20 mins"}`:`Est. ${c.deliveryTime||c.estimatedDelivery||"15-20 mins"}`]})]}),(0,b.jsxs)("p",{className:"font-bold text-sm sm:text-base",children:["â‚¹",c.grandTotal||c.total]})]}),(0,b.jsxs)("div",{className:"px-4 pb-4 flex gap-3",children:[(0,b.jsx)(r.Button,{variant:"outline",className:"flex-1 rounded-xl gap-2 bg-transparent hover:bg-primary/5 hover:border-primary/30",onClick:()=>{B(c.id),c.items.forEach(a=>{x({id:a.id,name:a.name,quantity:a.quantity,price:a.price,image:a.image})}),setTimeout(()=>{B(null),a.push("/cart")},800)},disabled:A===c.id,children:A===c.id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-primary/30 border-t-primary rounded-full animate-spin"}),w("misc.loading")]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n,{className:"w-4 h-4"}),w("orders.reorder")]})}),(0,b.jsx)(r.Button,{variant:"ghost",className:"rounded-xl hover:bg-muted",onClick:()=>{var b;return b=c.id,void a.push(`/orders/${b}`)},children:(0,b.jsx)(l.ChevronRight,{className:"w-5 h-5"})})]})]},c.id))})]})}a.s(["default",()=>w],63519)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7f49b5c6._.js.map